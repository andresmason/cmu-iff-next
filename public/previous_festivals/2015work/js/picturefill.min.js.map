{"version":3,"file":"picturefill.min.js","sources":["_picturefill.js"],"names":["window","matchMedia","styleMedia","media","style","document","createElement","script","getElementsByTagName","info","type","id","parentNode","insertBefore","getComputedStyle","currentStyle","matchMedium","text","styleSheet","cssText","textContent","width","matches","w","doc","image","picturefill","opt","elements","element","parent","firstMatch","candidates","options","pf","getAllElements","i","plen","length","undefined","nodeName","toUpperCase","ns","reevaluate","evaluated","removeVideoShim","getMatch","srcset","srcsetSupported","sizesSupported","indexOf","dodgeSrcset","processSourceSet","applyBestCandidate","runPicturefill","checkResize","resizeThrottle","_picturefillWorking","clearTimeout","setTimeout","intervalId","setInterval","test","readyState","clearInterval","addEventListener","attachEvent","HTMLPictureElement","trim","str","replace","endsWith","suffix","restrictsMixedContent","location","protocol","matchesMedia","getDpr","devicePixelRatio","getWidthFromLength","parseFloat","lengthEl","body","appendChild","className","offsetWidth","documentElement","removeChild","types","implementation","hasFeature","onerror","onload","src","verifyTypeSupport","source","getAttribute","parseSize","sourceSizeStr","match","exec","findWidthFromSourceSize","sourceSizeListStr","winningLength","sourceSizeList","split","len","sourceSize","parsedSize","parseSrcset","url","pos","search","descriptor","slice","last","descpos","push","parseDescriptor","sizesattr","resCandidate","sizes","sizeDescriptor","widthInCssPixels","splitDescriptor","curr","lastchar","res","isNaN","parseInt","getCandidatesFromSourceSet","formattedCandidates","candidate","resolution","img","removeAttribute","el","picImg","bestCandidate","sort","ascendingSort","substr","toLowerCase","console","warn","currentSrc","WebkitBackfaceVisibility","currentZoom","zoom","a","b","picture","videos","video","vsources","elems","imgs","h","currImg","sources","childNodes","j","slen","nodeType","typeSupported","_","module","exports","define","amd","this","Image"],"mappings":"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"}